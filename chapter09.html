<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>D3 Chapter 06.04 使用 SVG 绘制柱状图</title>
    <script src="d3/d3.min.js"></script>
</head>
<body>
<script type="application/javascript">
    const dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13,
        11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];
    const w = 500; h = 100, barPadding = 1;
    let svg = d3.select('body')
        .append('svg')
        .attr('width', w)
        .attr('height', h);
    let rects = svg.selectAll('rect')
        .data(dataset)
        .enter()
        .append('rect');
    rects
        .attr('x', (d, i) => i * (w / dataset.length))
        .attr('y', d => h - d * 4)
        .attr('width', w / dataset.length - barPadding)
        .attr('height', d => d * 4)
        .attr('fill', d => 'rgb(0, 0, ' + (d * 10) + ')');
    let texts = svg.selectAll('text')
        .data(dataset)
        .enter()
        .append('text')
        .text(d => d)
        .attr('x', (d, i) => i * (w / dataset.length) + (w / dataset.length - barPadding) / 2)
        .attr('y', d => h - d * 4 + 14)
        .attr('font-family', 'sans-serif')
        .attr('font-size', '11px')
        .attr('fill', 'white')
        .attr('text-anchor', 'middle')


</script>
</body>
</html>